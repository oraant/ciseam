<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" />
    <script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>    
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>    
</head>
    
<body>
    <h1>XXX管理系统</h1>
    <a href="http://192.168.18.132:8000/filter_user?id=&user_name=&tel=&qq=&email=&user_comment=">查询用户表</a>
    <a href="http://192.168.18.132:8000/filter_asset?id=&asset_mark=&asset_name=&intake_date=&warranty_period=&price=">查询资产表</a>
    <a href="http://192.168.18.132:8000/filter_maintenance/?id=&asset_name=&asset_mark=&user_name=&fault_cause=&occur_date=&repair_date=&repair_result=">查询维修记录</a>
    <a href="http://192.168.18.132:8000/filter_usagerecord?id=&asset_name=&asset_mark=&user_name=&begin_date=&end_date">查询使用记录</a>
    <div style="width:700px;margin:auto">
        <table id="machines" align="center" class="table table-striped table-hover">
        </table>
    </div>

    <!-- - - - - - - - - - - - - - - - - - - -->    
    <script>
        var headlist = {{ headlist|safe }};
        var bodylist = {{ bodylist|safe }};

        function getThead(list){
            //构建表头
            var thead = document.createElement("thead");
            var tr = document.createElement("tr");
            for (i in list){
                th = document.createElement("th");
                text = document.createTextNode(list[i]);
                th.appendChild(text);
                tr.appendChild(th);
                }
            thead.appendChild(tr)
            return thead;
            }

        function getTbody(list){
            //构建表体
            var tbody = document.createElement("tbody");
            for (i in list){
                tr = document.createElement("tr");
                for (x in list[i]){
                    td = document.createElement("td");
                    text = document.createTextNode(list[i][x]);
                    td.appendChild(text);
                    tr.appendChild(td);
                    }
                tbody.appendChild(tr);
                }

            return tbody;
            }
        
        //function makeTable(thead,tbody){
        var table = document.getElementById("machines");
        var thead = getThead(headlist);
        var tbody = getTbody(bodylist);
        table.appendChild(thead);
        table.appendChild(tbody);
    </script>
</body>
</html>
